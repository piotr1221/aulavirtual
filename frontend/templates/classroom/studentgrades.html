<!--Deriva del HTML de newassignment-->
{% extends 'classroom/menucourse.html' %}
<!--Carga los scripts en la carpeta static-->
{% load static %}

<!--Empieza un bloque contenido en otro HTML-->   
{% block contenido %}

    <div class="section">
      <h4>Participantes del curso</p></h4>
      <div class="divider"></div> 
      
      <!--Formulario para subir la nota de los estudiantes-->
      <form method="post">
        {% csrf_token %}
        <ul class="collapsible">
          
          <!--Tabla con las notas de los estudiantes-->
          <table class="table table-striped table-hover">
              <caption>Participantes del curso</caption>
              <thead>
                  <th scope="col" scope="ID">ID</th>
                  <th scope="col" scope="Nombre">Nombre</th>
                  <th scope="col" scope="Nota">Nota</th>    
              </thead>
              <tbody>
                <!--Muestra todos los estudiantes-->
                {% for student in students %}
                  <tr>
                    <!--ID del estudiante-->
                    <th scope="ID Estudiante">{{ student.id }}</th>
                    <!--Nombre completo del estudiante-->
                    <th scope="Estudiante">{{ student.first_name }} {{ student.last_name }}</th>
                    <!--Nota del estudiante-->
                    <th scope="Nota">
                      {% for grade in grades %}
                        {% if student.id == grade.student_id %}
                          <input name="grade" style="width:2ch" value={{ grade.grade }}>
                        {% endif %}
                      {% endfor %}
                      <!--Campo para subir la nota del estudiante-->
                      <input name="student_id" type="hidden" value={{ student.id }} /> 
                    </th>
                  </tr>
                {% endfor %}
              </tbody>
            </table>    
                
        </ul>
        <!--BotÃ³n para subir el formulario-->
        <button type="submit" class="btn waves-effect waves-light">Guardar</button>
      </form>
    </div>
    
  </div>

{% endblock %}